const MAIN_CONTAINER=document.getElementById("main-container"),SECTION_CONTAINER=document.getElementById("section-container"),LEFT_SECTION=document.getElementById("left-section"),RIGHT_SECTION=document.getElementById("right-section"),HOME_SECTION=document.getElementById("home"),SKILLS_SECTION=document.getElementById("skills"),EXPERIENCE_SECTION=document.getElementById("experience"),PROJECTS_SECTION=document.getElementById("projects"),FOOTER_SECTION=document.getElementById("footer"),MAIN_CONTENT_SECTION=document.getElementById("main-content")?.getElementsByClassName("container-content")[0],IS_DEV="localhost"===window.location.hostname,COLORS=["text-blue","text-orange","text-pink"],cache={},left_sections=[{name:"home",section:HOME_SECTION,items:[]},{name:"experience",section:EXPERIENCE_SECTION,items:[...EXPERIENCE_SECTION.firstElementChild.children[2].children]},{name:"projects",section:PROJECTS_SECTION,items:[...PROJECTS_SECTION.firstElementChild.children[2].children]},{name:"skills",section:SKILLS_SECTION,items:[...SKILLS_SECTION.firstElementChild.children[2].children]},],currentPosition={sectionIndex:0,sectionItemIndex:0},previousPosition={sectionIndex:0,sectionItemIndex:0};function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function isMobile(){return window.innerWidth<=768}async function fetchRandomBibleVerse(){let e=await fetch("https://labs.bible.org/api/?passage=random&type=json&callback=amen"),t=await e.text(),n=t.indexOf("{"),i=t.lastIndexOf("}"),s=t.substring(n,i+1),o=JSON.parse(s);return o}function getRandomTextColorClass(){return COLORS[Math.floor(Math.random()*COLORS.length)]}function colorizeString(e){return e.replaceAll("{{",()=>`<span class="${getRandomTextColorClass()}">`).replaceAll("}}","</span>")}function colorizeCode(){let e=document.getElementsByTagName("code")[0];if(null==e)return;let t=e.innerText,n=e.classList[0],i={js:javascriptKeywords,ts:typescriptKeywords,sql:sqlKeywords,mjs:nodeKeywords,html:htmlKeywords,css:cssKeywords,go:goKeywords,c:cKeywords,graphql:graphqlKeywords,sql:sqlKeywords,tsx:reactKeywords,test:testKeywords,sh:bashKeywords,yml:yamlKeywords,ino:arduinoKeywords}[n];if(null==i)return;let s=t;i.forEach((e,t)=>{if(0===e.length)return;let n=RegExp(`\\b(${e.join("|")})\\b`,"g");s=s.replaceAll(n,e=>`<span class="${COLORS[t]}">${e}</span>`)}),e.innerHTML=s}async function getCodeSnippet(e){let t=await fetch(`../data/snippets/snippet.${e}`),n=await t.text();return n}function isVisibleInScrollView(e,t){let n=e.offsetTop,i=n+e.clientHeight,s=t.scrollTop,o=s+t.clientHeight;return n>=s&&i<=o}async function displayContent(){MAIN_CONTENT_SECTION.innerHTML="";let e=left_sections[currentPosition.sectionIndex].name;if(null!=cache[e+currentPosition.sectionItemIndex]){MAIN_CONTENT_SECTION.appendChild(cache[e+currentPosition.sectionItemIndex]);return}let t=await fetch(`data/${e}.json`),{data:n}=await t.json(),i=document.createElement("div");i.classList.add("outer-paragraph-container");let s=document.createElement("div");if(s.classList.add("inner-paragraph-container"),"home"!==e){s.classList.add("mt-4");let o=n[currentPosition.sectionItemIndex],l=document.createElement("div"),r=document.createElement("h1");r.innerHTML=null!=o.title?`<span class="${getRandomTextColorClass()}">${o.title}</span>`:null;let a=document.createElement("h2");a.innerHTML=null!=o.date?`<span class="${getRandomTextColorClass()}">${o.date}</span>`:null;let c=document.createElement("h2");c.innerHTML=null!=o.year?`[Built in <span class="${getRandomTextColorClass()}">${o.year}</span>]`:null;let d=document.createElement("div");d.classList.add("technologies-row"),d.innerHTML=o.technologies?.map(e=>colorizeString(e)).join(" ")||null;let p=document.createElement("a");p.classList.add("project-button"),p.href=o?.githubUrl,p.target="_blank",p.innerText="Github";let u=document.createElement("a");u.classList.add("project-button"),u.href=o?.demoUrl,u.target="_blank",u.innerText="Demo";let m=document.createElement("div");m.classList.add("buttons-container"),o?.githubUrl!=null&&m.appendChild(p),o?.demoUrl!=null&&m.appendChild(u),null!=r.innerHTML&&l.appendChild(r),null!=a.innerHTML&&l.appendChild(a),null!=c.innerHTML&&l.appendChild(c),null!=d.innerHTML&&l.appendChild(d),m.children.length>0&&l.appendChild(m);let I=o.images?.map(e=>{let t=document.createElement("div");t.style.minHeight="200px",t.classList.add("image-inner-container");let n=document.createElement("img");return n.loading="lazy",n.src=`../images/${e}`,n.classList.add("project-image"),t.appendChild(n),t})??[];if(o.content.forEach((e,t)=>{let n=document.createElement("div");if(n.innerHTML=colorizeString(e).replaceAll("\n","<br>"),s.appendChild(n),t<I.length){let i=document.createElement("div");i.classList.add("image-container"),i.appendChild(I[t]),s.appendChild(i)}}),o?.snippet!=null){let g=document.createElement("div");g.classList.add("snippet-container");let h=document.createElement("pre"),y=document.createElement("code");y.classList.add(o.snippet),h.appendChild(y),y.innerText=await getCodeSnippet(o.snippet),g.appendChild(h),s.appendChild(g)}s.prepend(l),i.appendChild(s),MAIN_CONTENT_SECTION.appendChild(i),colorizeCode(),cache[e+currentPosition.sectionItemIndex]=i}else{let E=`images/logo${Math.floor(4*Math.random())+1}.svg`,f=document.createElement("div");f.id="logo-container";let C=document.createElement("img");C.loading="eager",C.src=E,C.id="logo",C.alt="Wallenart",f.appendChild(C),MAIN_CONTENT_SECTION.appendChild(f),n.forEach(e=>{let t=document.createElement("div");e.content.forEach(e=>{let n=document.createElement("p");n.innerHTML=colorizeString(e),t.appendChild(n)}),s.appendChild(t)}),i.appendChild(s),MAIN_CONTENT_SECTION.appendChild(i);try{let T=document.createElement("div");T.classList.add("bible-verse");let x=document.createElement("div");x.classList.add("reference");let N=document.createElement("div");N.innerHTML="Connecting to the Holy Ghost...",T.appendChild(N),T.appendChild(x),s.appendChild(T);let{text:S,bookname:L,chapter:v,verse:P}=await fetchRandomBibleVerse();x.innerText=`${L} ${v}:${P}`,N.innerHTML=S.replaceAll("Jesus",`<span class="${getRandomTextColorClass()}">Jesus</span>`).replaceAll("Christ",`<span class="${getRandomTextColorClass()}">Christ</span>`).replaceAll("Savior",`<span class="${getRandomTextColorClass()}">Savior</span>`).replaceAll("Lord",`<span class="${getRandomTextColorClass()}">Lord</span>`).replaceAll("God",`<span class="${getRandomTextColorClass()}">God</span>`).replaceAll("Faith",`<span class="${getRandomTextColorClass()}">Faith</span>`)}catch(w){console.error(w)}}}async function setSkillsDecorativeTextsPosition(){await document.fonts.ready;let e=()=>{let e=document.getElementById("skills-title"),t=document.getElementById("skills-index"),n=document.getElementById("skills").getElementsByClassName("ui-list")[0]?.firstElementChild;if(isMobile()){e.style="",t.style="";return}if(null==e||null==t||null==n||null==SKILLS_SECTION)return;let i=e.clientHeight;e.style.top=`${n.offsetTop-i}px`,t.style.bottom=`${t.getBoundingClientRect().bottom-SKILLS_SECTION.getBoundingClientRect().bottom-t.clientHeight}px`};e(),addEventListener("resize",e)}function setEnvironmentFiles(){if(!IS_DEV)return;let e=document.getElementById("stylesheet"),t=document.getElementById("script");if(null==e||null==t)throw Error("stylesheet or script element not found");e.href="css/tui.css",t.src="js/tui.js"}async function init(){setEnvironmentFiles(),initKeyboardListeners(),initMouseListeners(),initTouchListeners(),await render(!0,!0),await setSkillsDecorativeTextsPosition()}function clearSelectionStyling(e){if(isMobile()){let t=document.getElementsByClassName("selected-item")[0],n=document.getElementsByClassName("selected-frame")[0];null!=t&&t.classList.remove("selected-item"),null!=n&&n.classList.remove("selected-frame")}let i=left_sections[previousPosition.sectionIndex],s=i.items[previousPosition.sectionItemIndex],o=i.section.getElementsByClassName("list-index")[0],l=i.section.getElementsByClassName("ui-list")[0];i.section.classList.remove("selected-frame"),s?.classList.remove("selected-item"),null!=o&&(o.innerText=`1 of ${i.items.length}`),null!=l&&e&&l.scrollTo({top:0})}async function render(e=!1,t=!1){if(!isMobile()&&!t&&currentPosition.sectionIndex===previousPosition.sectionIndex&&currentPosition.sectionItemIndex===previousPosition.sectionItemIndex)return;let n=left_sections[currentPosition.sectionIndex],i=n.items?.[currentPosition.sectionItemIndex],s=n.section.getElementsByClassName("list-index")[0],o=n.section.getElementsByClassName("ui-list")[0];clearSelectionStyling(e),n.section.classList.add("selected-frame"),i?.classList.add("selected-item"),null!=s&&(s.innerText=`${currentPosition.sectionItemIndex+1} of ${n.items.length}`),null==o||null==i||isVisibleInScrollView(i,o)||previousPosition.sectionItemIndex===currentPosition.sectionItemIndex||o.scrollBy({top:previousPosition.sectionItemIndex<currentPosition.sectionItemIndex?i.clientHeight:-i.clientHeight}),t||displayContent(),isMobile()&&clearSelectionStyling(),t||openModal()}function savePreviousPosition(){previousPosition.sectionIndex=currentPosition.sectionIndex,previousPosition.sectionItemIndex=currentPosition.sectionItemIndex}function goToSection(e,t=0){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,e,left_sections.length-1),currentPosition.sectionItemIndex=clamp(0,t,left_sections[currentPosition.sectionIndex].items.length-1)}function goToNextSection(){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,currentPosition.sectionIndex+1,left_sections.length-1),currentPosition.sectionItemIndex=0}function goToPreviousSection(){savePreviousPosition(),currentPosition.sectionIndex=clamp(0,currentPosition.sectionIndex-1,left_sections.length-1),currentPosition.sectionItemIndex=0}function goToNextItem(){savePreviousPosition(),currentPosition.sectionItemIndex=clamp(0,currentPosition.sectionItemIndex+1,left_sections[currentPosition.sectionIndex].items.length-1)}function goToPreviousItem(){savePreviousPosition(),currentPosition.sectionItemIndex=clamp(0,currentPosition.sectionItemIndex-1,left_sections[currentPosition.sectionIndex].items.length-1)}function scrollMainContentDown(){MAIN_CONTENT_SECTION?.scrollBy({top:MAIN_CONTENT_SECTION.clientHeight/2})}function scrollMainContentUp(){MAIN_CONTENT_SECTION?.scrollBy({top:-(MAIN_CONTENT_SECTION.clientHeight/2)})}function openModal(){if(!isMobile())return;let e=document.getElementById("right-section");e.classList.remove("modal-close"),e.classList.add("modal-open"),document.body.style.position="fixed"}function closeModal(){if(!isMobile())return;clearSelectionStyling();let e=document.getElementById("right-section");e.classList.remove("modal-open"),e.classList.add("modal-close"),document.body.style.position="static"}function initKeyboardListeners(){addEventListener("keydown",async e=>{let t=!1,{key:n,code:i,ctrlKey:s}=e;if((n.includes("Arrow")||n.includes("Page"))&&e.preventDefault(),"PageDown"===n||s&&"d"===n){scrollMainContentDown();return}if("PageUp"===n||s&&"u"===n){scrollMainContentUp();return}if("ArrowUp"===n||"k"===n){if(0===currentPosition.sectionIndex)return;goToPreviousItem()}else if("ArrowDown"===n||"j"===n){if(0===currentPosition.sectionIndex)return;goToNextItem()}else if("ArrowLeft"===n||"h"===n)goToPreviousSection(),t=!0;else if("ArrowRight"===n||"l"===n)goToNextSection(),t=!0;else{if(!i.includes("Digit"))return;let o=parseInt(n)-1;goToSection(o),t=!0}await render(t)})}function initMouseListeners(){left_sections.forEach((e,t)=>{e.items.forEach((e,n)=>{e.addEventListener("click",async e=>{e.stopPropagation(),goToSection(t,n),await render(t!==previousPosition.sectionIndex)})}),e.section.addEventListener("click",async()=>{goToSection(t),await render(t!==previousPosition.sectionIndex)})})}function initTouchListeners(){if(!isMobile())return;let e=document.getElementById("modal-controls").firstElementChild;if(null==e)throw Error("Modal close button not found");e.addEventListener("click",()=>{closeModal()})}init();const javascriptKeywords=[["colorizeCode","getCodeSnippet","javascript","typescript","html","css","go","c","graphql","sql","react","jest","bash","yaml","arduino","innerText","classList","0","'code'","document","null","innerHTML"],["function","const","return","if","new","async","await","=","=="],["getElementsByTagName","RegExp","fetch","replaceAll"]],typescriptKeywords=[[...javascriptKeywords[0],],[...javascriptKeywords[1],"void","string"],[...javascriptKeywords[2],"Promise"],],nodeKeywords=[[...javascriptKeywords[0],"express","IS_ONLINE","helmet","IS_OFFLINE","method","graphqlHTTP","schema","rootValue","validationRules","graphiql","next"],[...javascriptKeywords[1],"NoSchemaIntrospectionCustomRule","else"],[...javascriptKeywords[2],"use","sendStatus","json","setHeader"],],htmlKeywords=[["head","meta","link","script","title"],["charset","name","content","rel","type","href","src","defer"],],cssKeywords=[["footer-item","home-section-paragraph","container","footer","left-section","selected-frame","container-content"],["display","flex-direction","justify-content","position","padding","border-color","margin-top","font-size","flex-direction","gap","border","overflow-y","overflow-x","hover","not"]],goKeywords=[["0","nil","1"],["type","package","struct","any","func","return","if","int"]],cKeywords=[["dequeNode","data","Node","createDeque","malloc","printf","exit","EXIT_FAILURE","NULL","front","back","next","prev","destroyDeque","dequeIsEmpty","dequePopFront","free","memcpy","true","false","dequePushBack","dequePushFront","dequePopBack","dequeFront"],["typedef","struct","void","sizeof","if","return","while","bool","else","Deque","static","char","const"]],graphqlKeywords=[["FileInput","FilesInput","DirectoryInput","ListBucketResult","DeleteFileResult","DeleteDirectoryResult","Queries","Mutations","schema","ListInput","UploadInput","SignedUrlResult","SignedUrlResult","TextFileContentResult","RestoreFileResult"],["input","type","union","fileName","path","root","versionId","bucketName","fileNames","versionIds","listBucketContent","getUploadUrl","getDownloadUrl","getTextFileContent","listInput","uploadInput","fileInput","fileInput","filesInput","directoryInput","deleteOneFile","deleteManyFiles","deleteDirectory","restoreFileVersion"],["String","ObjectList","Unauthenticated","Unauthorized","StorageNotFound","ServerError","FileNotFound","FileName","FileNameList","Directory","RestoreFileResult",]],sqlKeywords=[["Who Let The Dogs Out Party","Let the dogs out"],["SELECT","DISTINCT","FROM","WHERE","JOIN","AND","ON"],],reactKeywords=[[...typescriptKeywords[0],"Gallery","length","imagesUrls","false","false","useState","1","setShowFullSizeImage"],[...typescriptKeywords[1],"export","ExpandedImageModal"],["setCurrentIndex"]],testKeywords=[["test","expect","checkEmailValidity"],["let"],["toBeTruthy","toBeFalsy","toBeUndefined","toBe","__typename","not"]],bashKeywords=[["copy_env_files","$src_dir","mkdir","cp"],["for","in",";","then","if","elif","do","fi","done"],],yamlKeywords=[["name","on","push","jobs","runs-on","steps","uses","with","branches","main","deploy_lambda","ubuntu-latest","env","run"]],arduinoKeywords=[[...cKeywords[0],"setup","loop","stop","go","pinMode","OUTPUT","INPUT","HIGH","LOW","58.2","1000","delay","50","1000000","pulseIn","digitalWrite","delayMicroSeconds","10",],[...cKeywords[1],"long","int","swich","case","break"]];
